(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{214:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请求","aria-hidden":"true"}},[s._v("#")]),s._v(" 请求")]),s._v(" "),a("p",[s._v("很多情况，我们都需要根据请求的详细信息来进行逻辑处理，我们可以使用 "),a("code",[s._v("Request")]),s._v(" 的实例来进行请求相关操作。")]),s._v(" "),a("h2",{attrs:{id:"请求对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请求对象","aria-hidden":"true"}},[s._v("#")]),s._v(" 请求对象")]),s._v(" "),a("h3",{attrs:{id:"调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调用","aria-hidden":"true"}},[s._v("#")]),s._v(" 调用")]),s._v(" "),a("p",[s._v("在控制器中，可以直接使用控制器的实例属性获取 "),a("code",[s._v("Request")]),s._v(" 实例：")]),s._v(" "),a("div",{staticClass:"language-ts line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" Controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" http "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" '@dazejs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("framework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/posts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Post")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Controller")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    @http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("console")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"请求信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请求信息","aria-hidden":"true"}},[s._v("#")]),s._v(" 请求信息")]),s._v(" "),a("p",[s._v("可以通过 "),a("code",[s._v("Request")]),s._v(" 实例获取当前请求的信息")]),s._v(" "),a("h3",{attrs:{id:"request-getheaders"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getheaders","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getHeaders()")])]),s._v(" "),a("p",[s._v("请求消息头对象。消息头的名称和值的键值对。 消息头的名称都是小写的。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打印类似以下：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// { 'user-agent': 'curl/7.22.0',")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   host: '127.0.0.1:8000',")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//   accept: '*/*' }")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"request-getheader-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getheader-name","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getHeader(name)")])]),s._v(" "),a("p",[s._v("根据 "),a("code",[s._v("name")]),s._v(" 获取消息头，不区分大小写")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打印类似以下：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 'application/json'")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'accept'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"request-getbody"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getbody","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getBody()")])]),s._v(" "),a("p",[s._v("获取请求体 "),a("code",[s._v("body")])]),s._v(" "),a("h3",{attrs:{id:"request-getfiles"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getfiles","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getFiles()")])]),s._v(" "),a("p",[s._v("获取请求发送文件列表")]),s._v(" "),a("h3",{attrs:{id:"request-getmethod"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getmethod","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getMethod()")])]),s._v(" "),a("p",[s._v("获取请求方法。")]),s._v(" "),a("p",[s._v("请求方法为字符串。 示例：'GET'、 'DELETE'。")]),s._v(" "),a("h3",{attrs:{id:"request-getlength"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getlength","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getLength()")])]),s._v(" "),a("p",[s._v("请求消息头的 "),a("code",[s._v("Content-Length")]),s._v(" 的值或者 "),a("code",[s._v("undefiend")])]),s._v(" "),a("h3",{attrs:{id:"request-geturl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-geturl","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getUrl()")])]),s._v(" "),a("p",[s._v("请求的 "),a("code",[s._v("URL")]),s._v(" 字符串。 它仅包含实际 "),a("code",[s._v("HTTP")]),s._v(" 请求中存在的 "),a("code",[s._v("URL")]),s._v("。")]),s._v(" "),a("p",[s._v("例如请求地址： "),a("code",[s._v("GET /status?name=daze HTTP/1.1")])]),s._v(" "),a("p",[s._v("则 "),a("code",[s._v("request.url")]),s._v(" 的值等于 "),a("code",[s._v("/status?name=daze")])]),s._v(" "),a("h3",{attrs:{id:"request-getorigin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getorigin","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getOrigin()")])]),s._v(" "),a("p",[s._v("获取 "),a("code",[s._v("URL")]),s._v(" 的来源，包括 "),a("code",[s._v("protocol")]),s._v(" 和 "),a("code",[s._v("host")])]),s._v(" "),a("h3",{attrs:{id:"request-gethref"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-gethref","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getHref()")])]),s._v(" "),a("p",[s._v("获取完整的请求URL，包括 "),a("code",[s._v("protocol")]),s._v("，"),a("code",[s._v("host")]),s._v(" 和 "),a("code",[s._v("url")])]),s._v(" "),a("h3",{attrs:{id:"request-getpath"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getpath","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getPath()")])]),s._v(" "),a("p",[s._v("请求路径名。")]),s._v(" "),a("h3",{attrs:{id:"request-getquery"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getquery","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getQuery()")])]),s._v(" "),a("p",[s._v("根据 "),a("code",[s._v("?")]),s._v(" 获取原始查询对象")]),s._v(" "),a("h3",{attrs:{id:"request-getquerystring"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getquerystring","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getQuerystring()")])]),s._v(" "),a("p",[s._v("根据 "),a("code",[s._v("?")]),s._v(" 获取原始查询字符串 (结果不包含 "),a("code",[s._v("?")]),s._v(")")]),s._v(" "),a("h3",{attrs:{id:"request-getsearch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getsearch","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getSearch()")])]),s._v(" "),a("p",[s._v("根据 "),a("code",[s._v("?")]),s._v(" 获取原始查询字符串 (结果包含 "),a("code",[s._v("?")]),s._v(")")]),s._v(" "),a("h3",{attrs:{id:"request-getprotocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getprotocol","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getProtocol()")])]),s._v(" "),a("p",[s._v("获取请求协议: "),a("code",[s._v("http")]),s._v(" 或者 "),a("code",[s._v("https")])]),s._v(" "),a("h3",{attrs:{id:"request-gethost"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-gethost","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getHost()")])]),s._v(" "),a("p",[s._v("获取请求的 "),a("code",[s._v("host")])]),s._v(" "),a("h3",{attrs:{id:"request-gettype"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-gettype","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.getType()")])]),s._v(" "),a("p",[s._v("获取请求 "),a("code",[s._v("Content-Type")]),s._v(" 不含参数 "),a("code",[s._v("charset")])]),s._v(" "),a("h3",{attrs:{id:"request-acceptstypes-types"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-acceptstypes-types","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.acceptsTypes(types)")])]),s._v(" "),a("p",[s._v("返回最佳匹配的 "),a("code",[s._v("types")]),s._v("，否则为 "),a("code",[s._v("false")]),s._v("。 "),a("code",[s._v("type")]),s._v(" 值可能是一个或多个 "),a("code",[s._v("mime")]),s._v(" 类型的字符串，如 "),a("code",[s._v("application/json")]),s._v("，扩展名称如 "),a("code",[s._v("json")]),s._v("，或数组 "),a("code",[s._v('["json", "html", "text/plain"]')]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Accept: text/html")]),s._v("\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("acceptsTypes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// => "html"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Accept: text/*, application/json")]),s._v("\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("acceptsTypes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// => "html"')]),s._v("\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("acceptsTypes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'text/html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// => "text/html"')]),s._v("\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("acceptsTypes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'json'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'text'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// => "json"')]),s._v("\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("acceptsTypes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'application/json'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// => "application/json"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"request-acceptsencodings-encodings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-acceptsencodings-encodings","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.acceptsEncodings(encodings)")])]),s._v(" "),a("p",[s._v("返回最佳匹配的 "),a("code",[s._v("Accept-Encoding")]),s._v("，否则为 "),a("code",[s._v("false")])]),s._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("应该将identity 作为编码之一")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Accept-Encoding: gzip")]),s._v("\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("acceptsEncodings")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'gzip'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deflate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'identity'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// => "gzip"')]),s._v("\n\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("acceptsEncodings")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'gzip'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deflate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'identity'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// => "gzip"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"request-acceptscharsets-charsets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-acceptscharsets-charsets","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.acceptsCharsets(charsets)")])]),s._v(" "),a("p",[s._v("返回最佳匹配的 "),a("code",[s._v("charsets")]),s._v("，否则为 "),a("code",[s._v("false")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Accept-Charset: utf-8, iso-8859-1;q=0.2, utf-7;q=0.5")]),s._v("\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("acceptsCharsets")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf-7'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// => "utf-8"')]),s._v("\n\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("acceptsCharsets")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf-7'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// => "utf-8"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"request-acceptslanguages-langs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-acceptslanguages-langs","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.acceptsLanguages(langs)")])]),s._v(" "),a("p",[s._v("返回最佳匹配的 "),a("code",[s._v("langs")]),s._v("，否则为 "),a("code",[s._v("false")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Accept-Language: en;q=0.8, es, pt")]),s._v("\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("acceptsLanguages")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'es'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'en'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// => "es"')]),s._v("\n\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("acceptsLanguages")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'en'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'es'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// => "es"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"request-cookievalue-name-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-cookievalue-name-options","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.cookieValue(name [, options])")])]),s._v(" "),a("p",[s._v("根据名称获取 "),a("code",[s._v("cookie")]),s._v(" 的值")]),s._v(" "),a("h3",{attrs:{id:"request-sessionvalue-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-sessionvalue-name","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.sessionValue(name)")])]),s._v(" "),a("p",[s._v("根据名称获取 "),a("code",[s._v("session")]),s._v(" 的值")]),s._v(" "),a("h2",{attrs:{id:"请求方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请求方法","aria-hidden":"true"}},[s._v("#")]),s._v(" 请求方法")]),s._v(" "),a("p",[s._v("框架封装了用于判断常用的请求方法的方式")]),s._v(" "),a("h3",{attrs:{id:"request-isget"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-isget","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.isGet()")])]),s._v(" "),a("p",[s._v("判断请求是否 "),a("code",[s._v("GET")]),s._v(" 类型")]),s._v(" "),a("h3",{attrs:{id:"request-ispost"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-ispost","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.isPost()")])]),s._v(" "),a("p",[s._v("判断请求是否 "),a("code",[s._v("POST")]),s._v(" 类型")]),s._v(" "),a("h3",{attrs:{id:"request-isput"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-isput","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.isPut()")])]),s._v(" "),a("p",[s._v("判断请求是否 "),a("code",[s._v("PUT")]),s._v(" 类型")]),s._v(" "),a("h3",{attrs:{id:"request-ispatch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-ispatch","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.isPatch()")])]),s._v(" "),a("p",[s._v("判断请求是否 "),a("code",[s._v("PATCH")]),s._v(" 类型")]),s._v(" "),a("h3",{attrs:{id:"request-isdelete"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-isdelete","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.isDelete()")])]),s._v(" "),a("p",[s._v("判断请求是否 "),a("code",[s._v("DELETE")]),s._v(" 类型")]),s._v(" "),a("h3",{attrs:{id:"request-ishead"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-ishead","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.isHead()")])]),s._v(" "),a("p",[s._v("判断请求是否 "),a("code",[s._v("HEAD")]),s._v(" 类型")]),s._v(" "),a("h3",{attrs:{id:"request-isoptions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-isoptions","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("request.isOptions()")])]),s._v(" "),a("p",[s._v("判断请求是否 "),a("code",[s._v("OPTIONS")]),s._v(" 类型")]),s._v(" "),a("h2",{attrs:{id:"参数获取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数获取","aria-hidden":"true"}},[s._v("#")]),s._v(" 参数获取")]),s._v(" "),a("h3",{attrs:{id:"获取参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取参数","aria-hidden":"true"}},[s._v("#")]),s._v(" 获取参数")]),s._v(" "),a("h4",{attrs:{id:"request-getparam-name-default"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request-getparam-name-default","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("Request#getParam([name [,default]])")])]),s._v(" "),a("p",[s._v("请求对象提供了 "),a("code",[s._v("getParam")]),s._v(" 和 "),a("code",[s._v("getParams")]),s._v(" 方法来获取变量值：")]),s._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),a("p",[s._v("param方法可以获取body，url参数的输入变量，所有参数可以通过param方法统一获取")])]),s._v(" "),a("div",{staticClass:"language-ts line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" Controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" http "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@dazejs/framework'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'posts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Post")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Controller")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    @http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("':id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 获取 name 参数，如未获取到则默认返回值 daze")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getParam")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'daze'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 获取所有输入变量")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" all "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h4",{attrs:{id:"getter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getter","aria-hidden":"true"}},[s._v("#")]),s._v(" getter")]),s._v(" "),a("div",{staticClass:"language-ts line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" Controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" http "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@dazejs/framework'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'posts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Post")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Controller")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  @http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("':id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" name1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name1\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" name2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name2\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"参数筛选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数筛选","aria-hidden":"true"}},[s._v("#")]),s._v(" 参数筛选")]),s._v(" "),a("p",[s._v("通过 "),a("code",[s._v("only")]),s._v(" 与 "),a("code",[s._v("except")]),s._v(" 方法筛选需要或者不需要的输入变量")]),s._v(" "),a("div",{staticClass:"language-ts line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("div",{staticClass:"highlighted"},[s._v(" ")]),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" Controller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" http "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@dazejs/framework'")]),s._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'posts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Post")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Controller")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    @http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 只获取name与age变量")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" params1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("only")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'age'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 排除name与age，获取剩余变量")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" params2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("except")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'age'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])])])}],!1,null,null,null);t.default=n.exports}}]);