(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{184:function(t,e,s){"use strict";s.r(e);var a=s(0),_=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),s("ul",[t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),s("li",[s("code",[t._v("format")]),t._v(": 日志格式化，默认输出"),s("code",[t._v("[timestap] [level] - message")]),t._v(", 配置属性可以参考 "),s("a",{attrs:{href:"https://github.com/winstonjs/winston#formats",target:"_blank",rel:"noopener noreferrer"}},[t._v("winston formats"),s("OutboundLink")],1)])]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("所有驱动都可以配置：")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),s("p",[t._v("将日志在控制台打印输出")]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),s("p",[t._v("日志以文件的形式保存")]),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"日志"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日志","aria-hidden":"true"}},[this._v("#")]),this._v(" 日志")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("框架集成了 "),e("code",[this._v("winston")]),this._v(" 日志模块，提供了各种功能强大的日志处理模块，你可以通过它们来定制自己的日志处理功能。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"日志配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日志配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 日志配置")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("日志配置文件位于 "),e("code",[this._v("src/config/logger.js")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'console'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  channels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      driver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'console'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("default")]),this._v(": 默认通道，使用日志模块的时候，输出的日志默认会走该通道")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("channels")]),this._v(": 当前激活的通道，可以使用 "),e("code",[this._v("channel")]),this._v(" 方法来切换的通道")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("levels")]),this._v(": 日志级别优先级， 默认 "),e("code",[this._v("{ error: 0, warn: 1, info: 2, http: 3, verbose: 4, debug: 5, silly: 6 }")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("level")]),this._v(": 只有小于或者等于该级别的日志才会被输出，默认 "),e("code",[this._v("info")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),e("p",[this._v("每个通道必须配置一个 "),e("code",[this._v("driver")]),this._v(" 参数，来表示该通道使用哪个驱动运行")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"日志驱动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日志驱动","aria-hidden":"true"}},[this._v("#")]),this._v(" 日志驱动")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("level")]),this._v(": \b\b输出级别，默认全局设置")]),this._v(" "),e("li",[e("code",[this._v("format")]),this._v(": 日志格式化，默认全局设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"console"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#console","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("console")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("stderrLevels")]),t._v(": 表示哪些 "),s("code",[t._v("levels")]),t._v(" 使用 "),s("code",[t._v("stderr")]),t._v(" 输出而不是 "),s("code",[t._v("stdout")]),t._v(", 默认 "),s("code",[t._v("[]")])]),t._v(" "),s("li",[s("code",[t._v("eol")]),t._v(": 打印的结束行字符串，默认 "),s("code",[t._v("os.EOL")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"file"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#file","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("file")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("eol")]),t._v(": 打印的结束行字符串，默认 "),s("code",[t._v("os.EOL")])]),t._v(" "),s("li",[s("code",[t._v("filename")]),t._v(": 输出文件的文件名, 默认位于项目根目录下的 "),s("code",[t._v("logs")]),t._v(" 文件夹")]),t._v(" "),s("li",[s("code",[t._v("maxsize")]),t._v(": 单个文件的最大大小，超过该大小会创建新的文件，文件名会加上文件数作为后缀")]),t._v(" "),s("li",[s("code",[t._v("maxFiles")]),t._v(": 限制文件数量")]),t._v(" "),s("li",[s("code",[t._v("tailable")]),t._v(": 当设置该属性为 "),s("code",[t._v("true")]),t._v(" 时，根据 "),s("code",[t._v("maxsize")]),t._v(" 和  "),s("code",[t._v("maxFiles")]),t._v(" 参数升序滚动记录日志，数字越大文件越旧，只有设置了 "),s("code",[t._v("maxFiles")]),t._v(" 参数后才有效果")]),t._v(" "),s("li",[s("code",[t._v("maxRetries")]),t._v(": 失败重试次数，默认 "),s("code",[t._v("2")])]),t._v(" "),s("li",[s("code",[t._v("zippedArchive")]),t._v(": 如果设置为 "),s("code",[t._v("true")]),t._v(", 保存的日志将被压缩")]),t._v(" "),s("li",[s("code",[t._v("options")]),t._v(": 传递给 "),s("code",[t._v("fs.createWriteStream")]),t._v(" 的参数，默认 "),s("code",[t._v("{flags: 'a'}")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"stream"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#stream","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("stream")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("以 "),e("code",[this._v("Stream")]),this._v(" 的方式输出日志")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("eol")]),t._v(": 打印的结束行字符串，默认 "),s("code",[t._v("os.EOL")])]),t._v(" "),s("li",[s("code",[t._v("stream")]),t._v(": 支持任何 "),s("code",[t._v("Node.js Stream")]),t._v("，当流是"),s("code",[t._v("对象模式")]),t._v(", 写入 "),s("code",[t._v("info")]),t._v(" 对象，否则写入 "),s("code",[t._v("info[MESSAGE]")])])])}],!1,null,null,null);e.default=_.exports}}]);